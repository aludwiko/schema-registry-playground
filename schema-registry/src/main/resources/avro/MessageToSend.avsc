{
   "type":"record",
   "name":"MessageToSend",
   "namespace":"com.ludwikowski.schema",
   "fields":[
      {
         "name":"type",
         "type":"string"
      },
      {
         "name":"correlationId",
         "type":"string"
      },
      {
         "name":"payload",
         "type":[
            {
               "type":"record",
               "name":"Sms",
               "fields":[
                  {
                     "name":"phoneNumber",
                     "type":"string"
                  },
                  {
                     "name":"text",
                     "type":"string"
                  }
               ]
            },
            {
               "type":"record",
               "name":"Email",
               "fields":[
                  {
                     "name":"addressFrom",
                     "type":"string",
                     "default":"andrzej@test.pl"
                  },
                  {
                     "name":"addressTo",
                     "type":"string"
                  },
                  {
                     "name":"title",
                     "type":"string"
                  },
                  {
                     "name":"text",
                     "type":"string"
                  }
               ]
            },
            {
               "type":"record",
               "name":"PushNotification",
               "fields":[
                  {
                     "name":"arn",
                     "type":"string"
                  },
                  {
                     "name":"text",
                     "type":"string"
                  }
               ]
            }
         ]
      }
   ]
}